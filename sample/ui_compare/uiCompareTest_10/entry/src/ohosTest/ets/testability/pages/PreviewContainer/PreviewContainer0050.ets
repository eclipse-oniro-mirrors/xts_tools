/**
 * Copyright (c) 2025 Shenzhen Kaihong Digital Industry Development Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@Entry
@Component
struct PreviewContainer0050 {
  @State numbers: string[] = ["0", "1", "2", "3", "4", "5", "6", "7", "8"];
  @State selectedIndex: number = -1;

  build() {
    Column({ space: 16 }) {
      // æ ‡é¢˜åŒºåŸŸ
      Text('GridItem å±æ€§ç¤ºä¾‹')
        .fontSize(20)
        .fontWeight(FontWeight.Bold)
        .fontColor(0x333333)
        .textAlign(TextAlign.Center)
        .width('100%')
        .padding(16)
        .backgroundColor(0xF0F0F0)
        .borderRadius(8)

      // ä¸»è¦ç½‘æ ¼å¸ƒå±€
      Grid() {
        // ç‰¹æ®Š GridItem - è·¨è¡Œè·¨åˆ—ç¤ºä¾‹
        GridItem({
          style: GridItemStyle.PLAIN
        }) {
          Column({ space: 4 }) {
            Text('è·¨è¡Œè·¨åˆ—')
              .fontSize(14)
              .fontWeight(FontWeight.Bold)
              .fontColor(Color.White)
            Text('Header')
              .fontSize(12)
              .fontColor(Color.White)
          }
          .width('100%')
          .height('100%')
          .justifyContent(FlexAlign.Center)
          .alignItems(HorizontalAlign.Center)
        }
        // æ ¹æ®å®˜æ–¹æ–‡æ¡£è®¾ç½® GridItem å±æ€§
        .backgroundColor(0x007DFF)
        .borderRadius(8)
        .rowStart(0)
        .rowEnd(1)      // è·¨è¶Š2è¡Œ (0-1)
        .columnStart(0)
        .columnEnd(1)   // è·¨è¶Š2åˆ— (0-1)
        .selectable(true)
        .selected(this.selectedIndex === -1)
        .onClick(() => {
          this.selectedIndex = this.selectedIndex === -1 ? -2 : -1;
        })

        // æ™®é€š GridItem åˆ—è¡¨
        ForEach(this.numbers, (item: string, index: number) => {
          GridItem({
            style: GridItemStyle.NONE
          }) {
            Column({ space: 2 }) {
              Text(item)
                .fontSize(18)
                .fontWeight(FontWeight.Bold)
                .fontColor(this.selectedIndex === index ? Color.White : 0x333333)
              Text(`Item`)
                .fontSize(10)
                .fontColor(this.selectedIndex === index ? Color.White : 0x666666)
            }
            .width('100%')
            .height('100%')
            .justifyContent(FlexAlign.Center)
            .alignItems(HorizontalAlign.Center)
          }
          // æ ¹æ®å®˜æ–¹æ–‡æ¡£è®¾ç½®å®Œæ•´çš„ GridItem å±æ€§
          .backgroundColor(this.selectedIndex === index ? 0xFF6B6B : 0xF9CF93)
          .borderRadius(6)
          .shadow({
            radius: this.selectedIndex === index ? 6 : 2,
            color: this.selectedIndex === index ? 0x40FF6B6B : 0x20000000,
            offsetX: 0,
            offsetY: 2
          })
          .scale({
            x: this.selectedIndex === index ? 1.05 : 1.0,
            y: this.selectedIndex === index ? 1.05 : 1.0
          })
          .animation({
            duration: 200,
            curve: Curve.EaseInOut
          })
          // è®¾ç½®é€‰æ‹©å±æ€§
          .selectable(true)
          .selected(this.selectedIndex === index)
          // äº¤äº’äº‹ä»¶
          .onClick(() => {
            this.selectedIndex = this.selectedIndex === index ? -1 : index;
          })
          .onHover((isHover: boolean) => {
            // æ‚¬åœæ•ˆæœ - ä½¿ç”¨ item å‚æ•°è®°å½•æ—¥å¿—
            console.log(`GridItem ${item} hover state: ${isHover}`);
          })
          // ç„¦ç‚¹ç®¡ç†
          .focusable(true)
          .onFocus(() => {
            // ç„¦ç‚¹è·å¾—æ—¶çš„å¤„ç† - ä½¿ç”¨ item å‚æ•°
            console.log(`GridItem ${item} focused`);
          })
          .onBlur(() => {
            // ç„¦ç‚¹å¤±å»æ—¶çš„å¤„ç† - ä½¿ç”¨ item å‚æ•°
            console.log(`GridItem ${item} blurred`);
          })
        }, (item: string, index: number) => `grid-item-${item}-${index}`)

        // åº•éƒ¨è·¨åˆ— GridItem ç¤ºä¾‹
        GridItem({
          style: GridItemStyle.PLAIN
        }) {
          Row({ space: 8 }) {
            Text('ğŸ¯')
              .fontSize(16)
            Text('è·¨åˆ—åº•éƒ¨é¡¹')
              .fontSize(14)
              .fontWeight(FontWeight.Medium)
              .fontColor(Color.White)
          }
          .width('100%')
          .height('100%')
          .justifyContent(FlexAlign.Center)
          .alignItems(VerticalAlign.Center)
        }
        .backgroundColor(0x4CAF50)
        .borderRadius(8)
        .columnStart(2)
        .columnEnd(4)     // è·¨è¶Š3åˆ— (2-4)
        .selectable(true)
        .selected(this.selectedIndex === -3)
        .onClick(() => {
          this.selectedIndex = this.selectedIndex === -3 ? -1 : -3;
        })
      }
      // Grid å®¹å™¨å±æ€§
      .columnsTemplate('1fr 1fr 1fr 1fr 1fr')
      .rowsTemplate('1fr 1fr 1fr 1fr')
      .columnsGap(8)
      .rowsGap(8)
      .width('95%')
      .height(320)
      .backgroundColor(0xFAEEE0)
      .borderRadius(12)
      .padding(12)

      // å±æ€§è¯´æ˜åŒºåŸŸ
      Column({ space: 8 }) {
        Text('GridItem æ ¸å¿ƒå±æ€§')
          .fontSize(16)
          .fontWeight(FontWeight.Bold)
          .fontColor(0x333333)

        Column({ space: 4 }) {
          Text('â€¢ style: GridItemStyle.NONE | PLAIN - è®¾ç½®æ ·å¼é£æ ¼')
            .fontSize(12)
            .fontColor(0x666666)
          Text('â€¢ rowStart/rowEnd: è®¾ç½®è¡Œèµ·å§‹å’Œç»“æŸä½ç½®')
            .fontSize(12)
            .fontColor(0x666666)
          Text('â€¢ columnStart/columnEnd: è®¾ç½®åˆ—èµ·å§‹å’Œç»“æŸä½ç½®')
            .fontSize(12)
            .fontColor(0x666666)
          Text('â€¢ selectable: boolean - è®¾ç½®æ˜¯å¦å¯é€‰æ‹©')
            .fontSize(12)
            .fontColor(0x666666)
          Text('â€¢ selected: boolean - è®¾ç½®é€‰ä¸­çŠ¶æ€')
            .fontSize(12)
            .fontColor(0x666666)
          Text('â€¢ æ”¯æŒå®Œæ•´çš„ç„¦ç‚¹ç®¡ç†å’Œäº¤äº’äº‹ä»¶')
            .fontSize(12)
            .fontColor(0x666666)
        }
        .alignItems(HorizontalAlign.Start)
      }
      .width('95%')
      .padding(16)
      .backgroundColor(Color.White)
      .borderRadius(12)
      .shadow({ radius: 4, color: 0x10000000, offsetX: 0, offsetY: 2 })

    }
    .width('100%')
    .height('100%')
    .padding(16)
    .backgroundColor(0xF5F5F5)
  }
}
